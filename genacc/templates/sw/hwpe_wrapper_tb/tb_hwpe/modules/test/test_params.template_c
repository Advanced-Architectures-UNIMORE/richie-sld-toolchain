<%
#############################################
## Library of components - Test parameters ##
#############################################
%>

<%
###################################
## Test parameters - Declaration ##
###################################
%>

<%def name="decl_t_params()">\

  /* Application-specific parameters. */

  // These parameters have to be set by the user before to compile the application.

  // 1. Workload

  uint32_t width                  = ; // fill with a value
  uint32_t height                 = ; // fill with a value
  uint32_t stripe_height          = ; // fill with a value

  % if custom_reg_num>0:
  // 2. Custom registers
    % for i in range (custom_reg_num):
  const unsigned ${custom_reg_name[i]}_val = ; // fill with a value
    % endfor 
  % endif

  /* General parameters. */

  omp_set_num_threads(1);
  volatile int errors = 0;
  int i,j,k,cnt;
  int offload_id_tmp, offload_id;

  <%
  ###############################################
  ## Declaration of stream-specific parameters ##
  ###############################################
  %>

  /* Stream-specific parameters. */

  % for i in range (n_sink):
  uint32_t ${stream_in[i]}_width              = width;
  uint32_t ${stream_in[i]}_height             = height;
  uint32_t ${stream_in[i]}_stripe_height      = stripe_height;
  % endfor

  % for j in range (n_source):
  uint32_t ${stream_out[j]}_width             = width;
  uint32_t ${stream_out[j]}_height            = height;
  uint32_t ${stream_out[j]}_stripe_height     = stripe_height;
  % endfor

  <%
  ####################################
  ## Dataset parameters declaration ##
  ####################################
  %>

  /* Dataset parameters. */
  % for i in range (n_sink):
  const unsigned ${stream_in[i]}_stim_dim               = ${stream_in[i]}_width * ${stream_in[i]}_height;
  const unsigned ${stream_in[i]}_stripe_in_len          = ${stream_in[i]}_width * ${stream_in[i]}_stripe_height;
  % endfor

  % for j in range (n_source):
  const unsigned ${stream_out[j]}_stim_dim              = ${stream_out[j]}_width * ${stream_out[j]}_height;
  const unsigned ${stream_out[j]}_stripe_out_len        = ${stream_out[j]}_width * ${stream_out[j]}_stripe_height;
  % endfor

</%def>