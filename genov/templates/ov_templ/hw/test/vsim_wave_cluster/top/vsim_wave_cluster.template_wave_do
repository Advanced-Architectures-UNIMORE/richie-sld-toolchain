<%
# =====================================================================
# Project:       QuestaSim waves
# Title:         vsim_wave_cluster.template_wave_do
# Description:   QuestaSim waves to simplify validation phase of cluster 
#                components.
#
# $Date:         19.1.22
#
# Generator:     generate_ov_test
# ===================================================================== */
#
# Copyright (C) 2021 University of Modena and Reggio Emilia.
#
# Author: Gianluca Bellocchi, University of Modena and Reggio Emilia.
%>


<%
    # Additional design parameters
    n_acc_cl = len(cl_lic_acc_names)
    n_periphs = 8 + n_acc_cl - 1
%>

<%
    # PULP cluster (top)
%>

add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {top} -group {s_mperiph_bus} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/s_mperiph_bus/*}
add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {top} -group {s_mperiph_demux_bus[0]} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/s_mperiph_demux_bus[0]/*}
add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {top} -group {s_mperiph_demux_bus[1]} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/s_mperiph_demux_bus[1]/*}

add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {axi2per_wrap_i} -group {top} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/axi2per_wrap_i/*}
add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {axi2per_wrap_i} -group {axi2per_i} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/axi2per_wrap_i/axi2per_i/*}

add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {per2axi_wrap_i} -group {top} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/per2axi_wrap_i/*}
add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {per2axi_wrap_i} -group {per2axi_i} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/per2axi_wrap_i/per2axi_i/*}

add wave -noupdate -group {pulp_cluster[${cl_id}]} -group {tryx_ctrl_i} -group {top} {/overlay_tb/dut/gen_clusters[${cl_id}]/gen_cluster_sync/i_cluster/i_ooc/i_bound/tryx_ctrl_i/*}

${vsim_waves_cluster_bus()}
${vsim_waves_cluster_interconnect()}
${vsim_waves_cluster_peripherals()}

<%
    # RISC-V core waves
%>

${vsim_waves_core_region()}
${vsim_waves_core_demux()}
${vsim_waves_core_periph_demux()}

${vsim_waves_core_if_stage()}
${vsim_waves_core_id_stage()}
${vsim_waves_core_ex_stage()}
${vsim_waves_core_lsu()}
${vsim_waves_core_eu_ctrl()}

<%
    # Cluster components waves
%>

${vsim_waves_cluster_core_periph_slave()}
${vsim_waves_cluster_dma_ooc_wrap()}
${vsim_waves_cluster_event_unit()}
${vsim_waves_cluster_speriph_mst(n_periphs)}
${vsim_waves_cluster_tcdm()}
${vsim_waves_cluster_icache()}

<%
    # LIC accelerator region waves
%>

${vsim_waves_lic_acc_region(n_acc_cl)}

<%
    # LIC accelerator interface waves
%>
